<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
    
    <script>
        function computerPlay() {
            const computerSelection = Math.floor(Math.random() * 3) + 1;

            switch (computerSelection){
                case 1:
                    return("Rock");
                case 2:
                    return("Paper");
                case 3:
                    return("Scissors");
            };
        };

        function youPlay() {
            let yourSelection = "";

            do {
                yourSelection = window.prompt("Make your choice: Rock, Paper or Scissors...", "");

                if (yourSelection === null) {
                    alert("Please, make a choice!");
                }
                else {
                    if (yourSelection.toUpperCase() === "ROCK") {
                        return(yourSelection);
                    };
                    
                    if (yourSelection.toUpperCase() === "PAPER") {
                        return(yourSelection);
                    };

                    if (yourSelection.toUpperCase() === "SCISSORS") {
                        return(yourSelection);
                    };
                    
                    alert("Please, make a choice!");
                };
            } while (1);  
        };

        function playRound(playerSelection, computerSelection) {
            const player = playerSelection.toUpperCase();
            const computer = computerSelection.toUpperCase();

            if (player === computer) {
                return("It's a Tie");
            };
            if ((player === "SCISSORS") && (computer === "PAPER")) {
                return("You Win! Scissors cuts Paper");
            };
            if ((player === "PAPER") && (computer === "ROCK")) {
                return("You Win! Paper covers Rock");
            };
            if ((player === "ROCK") && (computer === "SCISSORS")) {
                return("You Win! Rock crushes Scissors");
            };
            if ((player === "PAPER") && (computer === "SCISSORS")) {
                return("You Lose! Scissors cuts Paper");
            };
            if ((player === "ROCK") && (computer === "PAPER")) {
                return("You Lose! Paper covers Rock");
            };
            if ((player === "SCISSORS") && (computer === "ROCK")) {
                return("You Lose! Rock crushes Scissors");
            };

        };

        function game() {
            let computerScore = 0, yourScore = 0;

            for (let index = 1; index <= 5; index++) {
                let playResult = "";
                let playerSelection = youPlay();
                let computerSelection = computerPlay();
                
                playResult = playRound(playerSelection, computerSelection);

                if (playResult.includes("You Win!")) {
                    yourScore++;
                };

                if (playResult.includes("You Lose!")) {
                    computerScore++;
                };

                console.log(playResult);
            };

            if (computerScore === yourScore) {
                return("Game is a Tie");
            };

            if (computerScore > yourScore) {
                return("Computer's won");
            } else {
                return("You've won");
            };

        }

        console.log(game());

    </script>
</head>
<body>
    
</body>
</html>